---
export interface Props {
    name: string;
    description: string;
    language?: string;
    repo?: string;
    demo?: string;
    flathub?: string;
    iconUrl?: string;
}

const { name, description, language, repo, demo, flathub, iconUrl } =
    Astro.props;
---

<div
    class="w-full max-w-md bg-white dark:bg-gray-900 shadow-md rounded-2xl p-6 flex flex-col hover:shadow-lg transition-shadow"
>
    <div class="flex flex-col gap-4 grow">
        <div class="flex items-start gap-4">
            {
                iconUrl && (
                    <div class="shrink-0 w-16 h-16 flex items-center justify-center">
                        <img
                            src={iconUrl}
                            alt={`${name} logo`}
                            class="w-full h-full object-contain"
                            loading="lazy"
                            decoding="async"
                            referrerpolicy="no-referrer"
                        />
                    </div>
                )
            }

            <div class="flex flex-col gap-2">
                <h2
                    class="text-xl font-bold text-gray-900 dark:text-gray-100 leading-tight"
                >
                    {name}
                </h2>

                {
                    language && (
                        <span class="inline-block w-fit px-3 py-1 text-xs font-medium bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-full">
                            {language}
                        </span>
                    )
                }
            </div>
        </div>

        <p class="text-gray-600 dark:text-gray-300 text-sm leading-relaxed">
            {description}
        </p>
    </div>

    <div class="flex flex-wrap gap-3 mt-auto pt-4">
        {
            repo && (
                <a
                    href={repo}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="px-3 py-1 text-sm font-medium rounded-lg bg-gray-200 dark:bg-gray-700 text-gray-800 dark:text-gray-200 hover:bg-gray-300 dark:hover:bg-gray-600 transition-colors"
                >
                    View Repo
                </a>
            )
        }
        {
            demo && (
                <a
                    href={demo}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="px-3 py-1 text-sm font-medium rounded-lg bg-blue-600 text-white hover:bg-blue-700 transition-colors"
                >
                    Live Demo
                </a>
            )
        }
        {
            flathub && (
                <a
                    href={flathub}
                    target="_blank"
                    rel="noopener noreferrer"
                    class="px-3 py-1 text-sm font-medium rounded-lg bg-emerald-600 text-white hover:bg-emerald-700 transition-colors"
                >
                    Flathub
                </a>
            )
        }
    </div>
</div>
